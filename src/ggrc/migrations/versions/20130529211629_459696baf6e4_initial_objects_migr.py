
# Copyright (C) 2013 Google Inc., authors, and contributors <see AUTHORS file>
# Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
# Created By: dan@reciprocitylabs.com
# Maintained By: dan@reciprocitylabs.com

"""Initial objects migration

Revision ID: 459696baf6e4
Revises: None
Create Date: 2013-05-29 21:16:29.330760

"""

from alembic import op
import sqlalchemy as sa

# revision identifiers, used by Alembic.
revision = '459696baf6e4'
down_revision = None


def upgrade():
  # commands auto generated by Alembic - please adjust! #
  op.create_table('risky_attributes',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('type_string', sa.String(
                      length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('relationship_types',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('relationship_type', sa.String(
                      length=250), nullable=True),
                  sa.Column('forward_phrase', sa.String(
                      length=250), nullable=True),
                  sa.Column('backward_phrase', sa.String(
                      length=250), nullable=True),
                  sa.Column('symmetric', sa.Boolean(), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('projects',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('org_groups',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('versions',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('item_type', sa.String(length=250), nullable=True),
                  sa.Column('item_id', sa.Integer(), nullable=True),
                  sa.Column('event', sa.String(length=250), nullable=True),
                  sa.Column('whodunnit', sa.String(length=250), nullable=True),
                  sa.Column('object', sa.Text(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('markets',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('facilities',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('data_assets',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('options',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('role', sa.String(length=250), nullable=True),
                  sa.Column('title', sa.String(length=250), nullable=True),
                  sa.Column('required', sa.Boolean(), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('helps',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('content', sa.Text(), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('relationships',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('source_id', sa.Integer(), nullable=True),
                  sa.Column('source_type', sa.String(
                      length=250), nullable=True),
                  sa.Column('destination_id', sa.Integer(), nullable=True),
                  sa.Column('destination_type', sa.String(
                      length=250), nullable=True),
                  sa.Column('relationship_type_id', sa.String(
                      length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('people',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('email', sa.String(length=250), nullable=True),
                  sa.Column('name', sa.String(length=250), nullable=True),
                  sa.Column('language_id', sa.Integer(), nullable=True),
                  sa.Column('company', sa.String(length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('risks',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('kind', sa.String(length=250), nullable=True),
                  sa.Column('likelihood', sa.Text(), nullable=True),
                  sa.Column('threat_vector', sa.Text(), nullable=True),
                  sa.Column('trigger', sa.Text(), nullable=True),
                  sa.Column('preconditions', sa.Text(), nullable=True),
                  sa.Column('likelihood_rating', sa.Integer(), nullable=True),
                  sa.Column('financial_impact_rating',
                            sa.Integer(), nullable=True),
                  sa.Column('reputational_impact_rating',
                            sa.Integer(), nullable=True),
                  sa.Column('operational_impact_rating',
                            sa.Integer(), nullable=True),
                  sa.Column('inherent_risk', sa.Text(), nullable=True),
                  sa.Column('risk_mitigation', sa.Text(), nullable=True),
                  sa.Column('residual_risk', sa.Text(), nullable=True),
                  sa.Column('impact', sa.Text(), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('products',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('type_id', sa.Integer(), nullable=True),
                  sa.Column('version', sa.String(length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('directives',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('company', sa.Boolean(), nullable=False),
                  sa.Column('version', sa.String(length=250), nullable=True),
                  sa.Column('organization', sa.String(
                      length=250), nullable=True),
                  sa.Column('scope', sa.Text(), nullable=True),
                  sa.Column('kind_id', sa.Integer(), nullable=True),
                  sa.Column('audit_start_date', sa.DateTime(), nullable=True),
                  sa.Column('audit_frequency_id', sa.Integer(), nullable=True),
                  sa.Column('audit_duration_id', sa.Integer(), nullable=True),
                  sa.Column('kind', sa.String(length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('programs',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('kind', sa.String(length=250), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('documents',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('title', sa.String(length=250), nullable=True),
                  sa.Column('link', sa.String(length=250), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('type_id', sa.Integer(), nullable=True),
                  sa.Column('kind_id', sa.Integer(), nullable=True),
                  sa.Column('year_id', sa.Integer(), nullable=True),
                  sa.Column('language_id', sa.Integer(), nullable=True),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('categories',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('name', sa.String(length=250), nullable=True),
                  sa.Column('lft', sa.Integer(), nullable=True),
                  sa.Column('rgt', sa.Integer(), nullable=True),
                  sa.Column('scope_id', sa.Integer(), nullable=True),
                  sa.Column('depth', sa.Integer(), nullable=True),
                  sa.Column('required', sa.Boolean(), nullable=True),
                  sa.Column('parent_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['parent_id'], ['categories.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('sections',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('directive_id', sa.Integer(), nullable=True),
                  sa.Column('na', sa.Boolean(), nullable=False),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('parent_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(
                      ['directive_id'], ['directives.id'], ),
                  sa.ForeignKeyConstraint(['parent_id'], ['sections.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('cycles',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('start_at', sa.Date(), nullable=True),
                  sa.Column('complete', sa.Boolean(), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=True),
                  sa.Column('audit_firm', sa.String(
                      length=250), nullable=True),
                  sa.Column('audit_lead', sa.String(
                      length=250), nullable=True),
                  sa.Column('status', sa.String(length=250), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('end_at', sa.Date(), nullable=True),
                  sa.Column('program_id', sa.Integer(), nullable=True),
                  sa.Column('report_due_at', sa.Date(), nullable=True),
                  sa.ForeignKeyConstraint(['program_id'], ['programs.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('program_directives',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('program_id', sa.Integer(), nullable=True),
                  sa.Column('directive_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(
                      ['directive_id'], ['directives.id'], ),
                  sa.ForeignKeyConstraint(['program_id'], ['programs.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('object_people',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('role', sa.String(length=250), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('person_id', sa.Integer(), nullable=True),
                  sa.Column('personable_id', sa.Integer(), nullable=True),
                  sa.Column('personable_type', sa.String(
                      length=250), nullable=True),
                  sa.ForeignKeyConstraint(['person_id'], ['people.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('object_documents',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('role', sa.String(length=250), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('document_id', sa.Integer(), nullable=True),
                  sa.Column('documentable_id', sa.Integer(), nullable=True),
                  sa.Column('documentable_type', sa.String(
                      length=250), nullable=True),
                  sa.ForeignKeyConstraint(['document_id'], ['documents.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('controls',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('directive_id', sa.Integer(), nullable=True),
                  sa.Column('type_id', sa.Integer(), nullable=True),
                  sa.Column('kind_id', sa.Integer(), nullable=True),
                  sa.Column('means_id', sa.Integer(), nullable=True),
                  sa.Column('version', sa.String(length=250), nullable=True),
                  sa.Column('documentation_description',
                            sa.Text(), nullable=True),
                  sa.Column('verify_frequency_id',
                            sa.Integer(), nullable=True),
                  sa.Column('fraud_related', sa.Boolean(), nullable=True),
                  sa.Column('key_control', sa.Boolean(), nullable=True),
                  sa.Column('active', sa.Boolean(), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('parent_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(
                      ['directive_id'], ['directives.id'], ),
                  sa.ForeignKeyConstraint(['parent_id'], ['controls.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('risk_risky_attributes',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('risk_id', sa.Integer(), nullable=True),
                  sa.Column('risky_attribute_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['risk_id'], ['risks.id'], ),
                  sa.ForeignKeyConstraint(['risky_attribute_id'], [
                      'risky_attributes.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('systems',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('url', sa.String(length=250), nullable=True),
                  sa.Column('start_date', sa.DateTime(), nullable=True),
                  sa.Column('end_date', sa.DateTime(), nullable=True),
                  sa.Column('slug', sa.String(length=250), nullable=False),
                  sa.Column('title', sa.String(length=250), nullable=False),
                  sa.Column('infrastructure', sa.Boolean(), nullable=True),
                  sa.Column('owner_id', sa.Integer(), nullable=True),
                  sa.Column('is_biz_process', sa.Boolean(), nullable=True),
                  sa.Column('type_id', sa.Integer(), nullable=True),
                  sa.Column('version', sa.String(length=250), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('network_zone_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['owner_id'], ['people.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('categorizations',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('category_id', sa.Integer(), nullable=True),
                  sa.Column('categorizable_id', sa.Integer(), nullable=True),
                  sa.Column('categorizable_type', sa.String(
                      length=250), nullable=True),
                  sa.ForeignKeyConstraint(
                      ['category_id'], ['categories.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('system_systems',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('parent_id', sa.Integer(), nullable=True),
                  sa.Column('child_id', sa.Integer(), nullable=True),
                  sa.Column('type', sa.String(length=250), nullable=True),
                  sa.Column('order', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['child_id'], ['systems.id'], ),
                  sa.ForeignKeyConstraint(['parent_id'], ['systems.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('control_sections',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('control_id', sa.Integer(), nullable=True),
                  sa.Column('section_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['control_id'], ['controls.id'], ),
                  sa.ForeignKeyConstraint(['section_id'], ['sections.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('control_controls',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('control_id', sa.Integer(), nullable=True),
                  sa.Column('implemented_control_id',
                            sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['control_id'], ['controls.id'], ),
                  sa.ForeignKeyConstraint(
                      ['implemented_control_id'], ['controls.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('control_risks',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('control_id', sa.Integer(), nullable=True),
                  sa.Column('risk_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['control_id'], ['controls.id'], ),
                  sa.ForeignKeyConstraint(['risk_id'], ['risks.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('system_controls',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('system_id', sa.Integer(), nullable=True),
                  sa.Column('control_id', sa.Integer(), nullable=True),
                  sa.Column('state', sa.Integer(), nullable=False),
                  sa.Column('cycle_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['control_id'], ['controls.id'], ),
                  sa.ForeignKeyConstraint(['cycle_id'], ['cycles.id'], ),
                  sa.ForeignKeyConstraint(['system_id'], ['systems.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('pbc_lists',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('audit_cycle_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['audit_cycle_id'], ['cycles.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('transactions',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('description', sa.Text(), nullable=True),
                  sa.Column('title', sa.String(length=250), nullable=True),
                  sa.Column('system_id', sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(['system_id'], ['systems.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('control_assessments',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('pbc_list_id', sa.Integer(), nullable=True),
                  sa.Column('control_id', sa.Integer(), nullable=True),
                  sa.Column('control_version', sa.String(
                      length=250), nullable=True),
                  sa.Column('internal_tod', sa.Boolean(), nullable=True),
                  sa.Column('internal_toe', sa.Boolean(), nullable=True),
                  sa.Column('external_tod', sa.Boolean(), nullable=True),
                  sa.Column('external_toe', sa.Boolean(), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.ForeignKeyConstraint(['control_id'], ['controls.id'], ),
                  sa.ForeignKeyConstraint(['pbc_list_id'], ['pbc_lists.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('requests',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('pbc_list_id', sa.Integer(), nullable=True),
                  sa.Column('type_id', sa.Integer(), nullable=True),
                  sa.Column('pbc_control_code', sa.String(
                      length=250), nullable=True),
                  sa.Column('pbc_control_desc', sa.Text(), nullable=True),
                  sa.Column('request', sa.Text(), nullable=True),
                  sa.Column('test', sa.Text(), nullable=True),
                  sa.Column('notes', sa.Text(), nullable=True),
                  sa.Column('company_responsible', sa.String(
                      length=250), nullable=True),
                  sa.Column('auditor_responsible', sa.String(
                      length=250), nullable=True),
                  sa.Column('date_requested', sa.DateTime(), nullable=True),
                  sa.Column('status', sa.String(length=250), nullable=True),
                  sa.Column('control_assessment_id',
                            sa.Integer(), nullable=True),
                  sa.Column('response_due_at', sa.Date(), nullable=True),
                  sa.ForeignKeyConstraint(['control_assessment_id'], [
                      'control_assessments.id'], ),
                  sa.ForeignKeyConstraint(['pbc_list_id'], ['pbc_lists.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('responses',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('request_id', sa.Integer(), nullable=True),
                  sa.Column('system_id', sa.Integer(), nullable=True),
                  sa.Column('status', sa.String(length=250), nullable=True),
                  sa.ForeignKeyConstraint(['request_id'], ['requests.id'], ),
                  sa.ForeignKeyConstraint(['system_id'], ['systems.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('population_samples',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('response_id', sa.Integer(), nullable=True),
                  sa.Column('population_document_id',
                            sa.Integer(), nullable=True),
                  sa.Column('population', sa.Integer(), nullable=True),
                  sa.Column('sample_worksheet_document_id',
                            sa.Integer(), nullable=True),
                  sa.Column('samples', sa.Integer(), nullable=True),
                  sa.Column('sample_evidence_document_id',
                            sa.Integer(), nullable=True),
                  sa.ForeignKeyConstraint(
                      ['population_document_id'], ['documents.id'], ),
                  sa.ForeignKeyConstraint(['response_id'], ['responses.id'], ),
                  sa.ForeignKeyConstraint(
                      ['sample_evidence_document_id'], ['documents.id'], ),
                  sa.ForeignKeyConstraint(
                      ['sample_worksheet_document_id'], ['documents.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  op.create_table('meetings',
                  sa.Column('id', sa.Integer(), nullable=False),
                  sa.Column('modified_by_id', sa.Integer(), nullable=True),
                  sa.Column('created_at', sa.DateTime(), nullable=True),
                  sa.Column('updated_at', sa.DateTime(), nullable=True),
                  sa.Column('response_id', sa.Integer(), nullable=True),
                  sa.Column('start_at', sa.DateTime(), nullable=True),
                  sa.Column('calendar_url', sa.String(
                      length=250), nullable=True),
                  sa.ForeignKeyConstraint(['response_id'], ['responses.id'], ),
                  sa.PrimaryKeyConstraint('id')
                  )
  # end Alembic commands #


def downgrade():
  # commands auto generated by Alembic - please adjust! #
  op.drop_table('meetings')
  op.drop_table('population_samples')
  op.drop_table('responses')
  op.drop_table('requests')
  op.drop_table('control_assessments')
  op.drop_table('transactions')
  op.drop_table('pbc_lists')
  op.drop_table('system_controls')
  op.drop_table('control_risks')
  op.drop_table('control_controls')
  op.drop_table('control_sections')
  op.drop_table('system_systems')
  op.drop_table('categorizations')
  op.drop_table('systems')
  op.drop_table('risk_risky_attributes')
  op.drop_table('controls')
  op.drop_table('object_documents')
  op.drop_table('object_people')
  op.drop_table('program_directives')
  op.drop_table('cycles')
  op.drop_table('sections')
  op.drop_table('categories')
  op.drop_table('documents')
  op.drop_table('programs')
  op.drop_table('directives')
  op.drop_table('products')
  op.drop_table('risks')
  op.drop_table('people')
  op.drop_table('relationships')
  op.drop_table('helps')
  op.drop_table('options')
  op.drop_table('data_assets')
  op.drop_table('facilities')
  op.drop_table('markets')
  op.drop_table('versions')
  op.drop_table('org_groups')
  op.drop_table('projects')
  op.drop_table('relationship_types')
  op.drop_table('risky_attributes')
  # end Alembic commands #
